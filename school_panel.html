<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>School Panel - Mewar App</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="panel">
    <h2>School Dashboard</h2>
    <button onclick="logout()">Logout</button>

    <h3>Manage Students</h3>
    <form id="studentForm" onsubmit="event.preventDefault(); saveStudent();">
      <input type="hidden" id="studentIndex">
      <input type="text" id="studentName" placeholder="Student Name" required />
      <select id="studentClass" required>
        <option value="">Select Class</option>
        <option value="1st">1st</option>
        <option value="2nd">2nd</option>
        <option value="3rd">3rd</option>
        <option value="4th">4th</option>
        <option value="5th">5th</option>
        <option value="6th">6th</option>
        <option value="7th">7th</option>
        <option value="8th">8th</option>
        <option value="9th">9th</option>
        <option value="10th">10th</option>
        <option value="11th PCM">11th PCM</option>
        <option value="11th PCB">11th PCB</option>
        <option value="11th Commerce">11th Commerce</option>
        <option value="11th Agriculture">11th Agriculture</option>
        <option value="12th PCM">12th PCM</option>
        <option value="12th PCB">12th PCB</option>
        <option value="12th Commerce">12th Commerce</option>
        <option value="12th Agriculture">12th Agriculture</option>
      </select>
      <button type="submit">Save Student</button>
    </form>
    <div id="studentList"></div>

    <h3>Manage Teachers</h3>
    <form id="teacherForm" onsubmit="event.preventDefault(); saveTeacher();">
      <input type="hidden" id="teacherIndex">
      <input type="text" id="teacherName" placeholder="Teacher Name" required />
      <input type="text" id="teacherPhone" placeholder="Phone Number" required />
      <input type="email" id="teacherEmail" placeholder="Email Address" required />
      <input type="text" id="teacherSubject" placeholder="Subject" required />
      <input type="text" id="teacherPost" placeholder="Post (e.g. TGT, PGT)" required />
      <select id="assignedClass">
        <option value="">Assign Class Teacher Role</option>
        <option value="1st">1st</option>
        <option value="2nd">2nd</option>
        <option value="3rd">3rd</option>
        <option value="4th">4th</option>
        <option value="5th">5th</option>
        <option value="6th">6th</option>
        <option value="7th">7th</option>
        <option value="8th">8th</option>
        <option value="9th">9th</option>
        <option value="10th">10th</option>
        <option value="11th PCM">11th PCM</option>
        <option value="11th PCB">11th PCB</option>
        <option value="11th Commerce">11th Commerce</option>
        <option value="11th Agriculture">11th Agriculture</option>
        <option value="12th PCM">12th PCM</option>
        <option value="12th PCB">12th PCB</option>
        <option value="12th Commerce">12th Commerce</option>
        <option value="12th Agriculture">12th Agriculture</option>
      </select>
      <button type="submit">Save Teacher</button>
    </form>
    <div id="teacherList"></div>

    <h3>Attendance Overview</h3>
    <div id="attendanceOverview"></div>
  </div>

  <script src="app.js"></script>
  <script>
    if (localStorage.getItem("userRole") !== "school") {
      alert("Access Denied!");
      window.location.href = "index.html";
    }

    showStudents();
    showTeachers();
    showAttendance();

    function logout() {
      localStorage.removeItem("userRole");
      window.location.href = "index.html";
    }
  </script>
</body>
</html>
